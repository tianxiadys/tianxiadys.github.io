<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=500"/>
    <title>generate password</title>
    <style>
        textarea {
            height: 200px;
            width: 480px;
        }
    </style>
</head>
<body>
<h2>密码生成工具</h2>
<p>密码在您的浏览器中生成，不会上传到服务器，请放心使用</p>
<p>
    <button id="id_button_gen16">生成16位密码</button>
    <button id="id_button_gen24">生成24位密码</button>
    <button id="id_button_gen32">生成32位密码</button>
</p>
<!--suppress HtmlFormInputWithoutLabel -->
<textarea id="id_textarea_password" readonly="readonly">
</textarea>
<!--suppress JSUnresolvedReference -->
<script>
    function randomBytes(length) {
        const result = new Uint8Array(length)
        return crypto.getRandomValues(result)
    }

    function randomText(length) {
        const bytes = randomBytes(length)
        const template = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
        const result = []
        for (const byte of bytes) {
            result.push(template[byte % 62])
        }
        return result.join('')
    }

    id_button_gen16.onclick = () => {
        id_textarea_password.innerText = randomText(16)
    }
    id_button_gen24.onclick = () => {
        id_textarea_password.innerText = randomText(24)
    }
    id_button_gen32.onclick = () => {
        id_textarea_password.innerText = randomText(32)
    }
</script>
</body>
</html>
