<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=500"/>
    <title>generate password</title>
    <style>
        textarea {
            height: 200px;
            width: 480px;
        }
    </style>
</head>
<body>
<h2>密码生成工具</h2>
<p>密码在您的浏览器中生成，不会上传到服务器，请放心使用</p>
<p>
    <input checked id="id_include_1" type="checkbox"/>
    <label for="id_include_1">包含数字</label>
    <input checked id="id_include_2" type="checkbox"/>
    <label for="id_include_2">包含大写字母</label>
    <input checked id="id_include_3" type="checkbox"/>
    <label for="id_include_3">包含小写字母</label>
    <input id="id_include_4" type="checkbox"/>
    <label for="id_include_4">包含数字区符号</label>
    <input id="id_include_5" type="checkbox"/>
    <label for="id_include_5">包含字母区符号</label>
</p>
<p>
    <button id="id_button_gen16">生成16位密码</button>
    <button id="id_button_gen24">生成24位密码</button>
    <button id="id_button_gen32">生成32位密码</button>
</p>
<label for="id_textarea_password"></label>
<textarea id="id_textarea_password" readonly="readonly">
</textarea>
<script src="crypto1.js">
</script>
<script>
    onload = () => {
        const include1 = document.getElementById('id_include_1')
        const include2 = document.getElementById('id_include_2')
        const include3 = document.getElementById('id_include_3')
        const include4 = document.getElementById('id_include_4')
        const include5 = document.getElementById('id_include_5')
        const buttonGen16 = document.getElementById('id_button_gen16')
        const buttonGen24 = document.getElementById('id_button_gen24')
        const buttonGen32 = document.getElementById('id_button_gen32')
        const outputPassword = document.getElementById('id_textarea_password')

        function randomClick(length) {
            const range = []
            if (include1.checked) {
                range.push('0123456789')
            }
            if (include2.checked) {
                range.push('ABCDEFGHIJKLMNOPQRSTUVWXYZ')
            }
            if (include3.checked) {
                range.push('abcdefghijklmnopqrstuvwxyz')
            }
            if (include4.checked) {
                range.push('!@#$%^&*()')
            }
            if (include5.checked) {
                range.push('-=_+,./<>?;:[]{}')
            }
            const table = range.join('')
            if (table) {
                outputPassword.innerText = randomTable(length, table)
            } else {
                outputPassword.innerText = ''
            }
        }

        buttonGen16.onclick = () => randomClick(16)
        buttonGen24.onclick = () => randomClick(24)
        buttonGen32.onclick = () => randomClick(32)
    }
</script>
</body>
</html>
