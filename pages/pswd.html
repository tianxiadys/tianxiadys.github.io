<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=500, user-scalable=no" />
    <style>
        textarea {
            width: 480px;
            height: 200px;
        }
    </style>
</head>
<body>
    <h2>密码生成工具</h2>
    <p>密码在您的浏览器中生成，不会上传到服务器，请放心使用</p>
    <p>
        <button onclick="RandomPassword(16)">生成16位密码</button>
        <button onclick="RandomPassword(24)">生成24位密码</button>
        <button onclick="RandomPassword(32)">生成32位密码</button>
    </p>
    <textarea id="textpswd" readonly="readonly"></textarea>
    <script>
        function RandomPassword(length)
        {
            // 定义密码原始值字符串值映射表
            var tablepswd = [
                "A", "B", "C", "D", "E", "F", "G", "H",
                "I", "J", "K", "L", "M", "N", "O", "P",
                "Q", "R", "S", "T", "U", "V", "W", "X",
                "Y", "Z", "a", "b", "c", "d", "e", "f",
                "g", "h", "i", "j", "k", "l", "m", "n",
                "o", "p", "q", "r", "s", "t", "u", "v",
                "w", "x", "y", "z", "0", "1", "2", "3",
                "4", "5", "6", "7", "8", "9"
            ];

            // 初始化密码原始值和字符串值
            var rawpswd = new Uint8Array(length);
            var strpswd = new String();

            // 使用密码学安全算法生成随机数
            window.crypto.getRandomValues(rawpswd);

            // 将密码原始值转换为字符串
            for (var rawbyte of rawpswd)
            {
                // 使用映射表映射到字符串
                strpswd += tablepswd[rawbyte % 62];
            }

            // 将密码字符串显示到文本框
            document.getElementById("textpswd").innerText = strpswd;
        }
    </script>
</body>
</html>
